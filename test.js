const axios = require('axios')

const packages = [
  // 'next',
  // 'node-fetch',
  'markdown-to-jsx',
  'zone.js',
  'react-native-drawer',
  'react-scripts',
]

const spackages = [
  // 'playwright-core@1.14.1',
  '@mui/material@latest',
  'react',
  'react@17.0.2',
  'moment',
  'react-router-dom@5.3.0',
  'axios',
  'lodash',
  'react-dom',
  'date-fns',
  'react-dom@17.0.2',
  'moment@2.29.1',
  'dayjs',
  'vue',
  'swiper',
  'redux',
  'framer-motion',
  '@mui/icons-material@latest',
  'react-router',
  'formik',
  'react-hook-form',
  '@material-ui/core',
  'preact',
  'react-query',
  'yup',
  'vue@2.6.14',
  'react-router-dom',
  'axios@0.24.0',
  'react-spring',
  'lodash@4.17.21',
  'date-fns@2.25.0',
  'antd',
  'dayjs@1.10.7',
  'react-redux',
  'luxon',
  'redux@4.1.2',
  'next',
  'react-slick',
  'chart.js',
  'styled-components',
  'glider-js',
  '@mui/material',
  'preact@10.5.15',
  'react-select',
  'swr',
  'angular',
  'jquery',
  '@apollo/client',
  '@emotion/react',
  'swiper@7.2.0',
  '@google/model-viewer',
  '@material-ui/core@4.12.3',
  '@reduxjs/toolkit',
  'slick-carousel',
  'formik@2.2.9',
  '@mui/core@latest',
  'chroma-js',
  'mobx',
  '@chakra-ui/react',
  'bootstrap',
  'react-redux@7.2.6',
  'lit',
  'd3',
  // 'firebase',
  'yup@0.32.11',
  'classnames',
  'svelte',
  'tailwindcss',
  'uuid',
  '@mui/material@5.0.6',
  'antd@4.16.13',
  'rxjs',
  'recharts',
  '@headlessui/react',
  'recoil',
  'react-datepicker',
  '@reduxjs/toolkit@1.6.2',
  'immer',
  'lottie-web',
  'chart.js@3.6.0',
  'express',
  'gsap',
  'react-bootstrap',
  'three',
  'react-spring@9.3.0',
  'styled-components@5.3.3',
  'xstate',
  'dompurify',
  'zustand',
  'lodash-es',
  'react-transition-group',
  'joi',
  // 'node-fetch',
  'bootstrap@5.1.3',
  '@mui/lab@latest',
  'draft-js',
  'angular@1.8.2',
  'mui',
  'react-slick@0.28.1',
  '@react-google-maps/api',
  'jquery@3.6.0',
  'react-motion',
  'react-router@6.0.0',
  'react-toastify',
  'lodash-es@4.17.21',
  'xlsx',
  '@apollo/client@3.4.16',
  '@emotion/react@11.5.0',
  'react-router-dom@6.0.0-alpha.2',
  'marked',
  'ramda',
  'react-final-form',
  'svelte@3.44.1',
  'clsx',
  'react-hook-form@7.18.1',
  'react-router@5.2.1',
  'redux-toolkit',
  'swr@1.0.1',
  'react-icons',
  'superstruct',
  'slate',
  'classnames@2.3.1',
  'zod',
  'react-markdown',
  'chartist',
  'emotion',
  'glider-js@1.7.7',
  'chakra-ui',
  'react-query@3.31.0',
  'graphql',
  'luxon@2.0.2',
  'react-native',
  'quill',
  'jotai',
  'redux-thunk',
  'react-beautiful-dnd',
  'graphql-request@3.4.0',
  'react-modal',
  'ua-parser-js',
  'solid-js@1.2.1',
  'flickity',
  'react-multi-carousel',
  'react-router-dom@6.0.0',
  'lit@2.0.2',
  'react-dropzone',
  'alpinejs',
  'vuex',
  'moment-timezone',
  'react-responsive-carousel',
  'slick-carousel@1.8.1',
  'tailwindcss@2.2.19',
  'vue@3',
  'libphonenumber-js',
  '@popperjs/core',
  '@emotion/styled',
  'downshift',
  'react-intersection-observer',
  'react-use',
  'express@4.17.1',
  'highcharts',
  'xstate@4.26.0',
  'react-virtualized',
  'react-table',
  'react-window',
  'frappe-charts',
  'react-i18next',
  '@material-ui/icons',
  'react-move',
  'react-datepicker@4.3.0',
  'sharp',
  'i18next',
  'apexcharts',
  'draft-js@0.11.7',
  'aws-sdk',
  'query-string',
  'html-react-parser',
  'framer-motion@5.2.1',
  'exceljs',
  'react-select@5.2.1',
  'lottie-web@5.7.14',
  'react-day-picker',
  'mobx@6.3.6',
  'react-native-confirmation-code-field',
  'react-tooltip',
  'bootstrap-vue',
  'qs',
  'material-ui',
  'solid-js',
  'react-dnd',
  '@date-io/date-fns',
  'recharts@2.1.6',
  'nanoid',
  'react-transition-group@4.4.2',
  'jwt-decode',
  'vue-router',
  'history',
  'clsx@1.1.1',
  'exceljs@4.3.0',
  'react-popper',
  'codemirror',
  'd3@7.1.1',
  'immutable',
  'react-player',
  'react-phone-number-input',
  'typescript',
  'xss',
  'fuse.js',
  'react-native-alarm-notification',
  'echarts',
  '@mui/x-data-grid',
  '@sentry/browser',
  'joi@17.4.2',
  'typeorm',
  '@angular/core',
  'webpack',
  'html2canvas',
  'quill@1.3.7',
  'react-router-dom@6.0.1',
  '@react-spring/web',
  'lottie',
  'vuetify',
  'rxjs@7.4.0',
  '@headlessui/react@1.4.1',
  'uuid@8.3.2',
  'jspdf',
  'react-virtuoso',
  '@emotion/css',
  'attractions',
  'react-router@6.0.0-beta.8',
  'animejs',
  '@emotion/styled@11.3.0',
  'react-quill',
  'graphql-request',
  'mui@0.0.1',
  '@chakra-ui/core@0.5.2',
  'framer-motion@5.2.0',
  '@xstate/react',
  'redux-thunk@2.4.0',
  'ajv',
  'redux-toolkit@1.1.2',
  'react-dates',
]

async function run() {
  for (let package of packages) {
    const { data: localData } = await axios.get(
      `http://localhost:3000/size?p=${package}`
    )
    const { data: remoteData } = await axios.get(
      `https://bundlephobia.com/api/size?package=${package}`
    )

    console.log(
      'Package: ',
      package,
      '\t\tlocal: ',
      localData.gzip / 1024,
      '\tremote: ',
      remoteData.gzip / 1024,
      '\tDifference: ',
      ((localData.gzip - remoteData.gzip) / remoteData.gzip) * 100,
      '%'
    )
  }
}

run()
